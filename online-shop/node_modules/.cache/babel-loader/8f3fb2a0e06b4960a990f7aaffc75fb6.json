{"ast":null,"code":"import _objectSpread from \"/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/src/Components/mylogin/db.js\";\nimport React, { Component } from 'react';\nimport './mylogin.css';\nvar x;\nvar st = \"\";\nvar j = \"whopper\";\n\nvar db =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(db, _React$Component);\n\n  function db() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, db);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(db)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      products: [],\n      product: {\n        email: \"\",\n        password: '',\n        phone_number: ''\n      }\n    };\n\n    _this.getProducts = function (_) {\n      fetch('http://localhost:4000/products').then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        return _this.setState({\n          products: response.data\n        });\n      }).catch(function (err) {\n        return console.error(err);\n      }); //    .then(({ data }) => {\n      //        for (let i = this.findStart(JSON.stringify(data)); JSON.stringify(data)[i] !== '\"'; i++) {\n      //            st += (JSON.stringify(data)[i]);\n      //        }\n      //        console.log(\"st:\" + st);\n      //    })\n      //    .catch(err => console.error(err))\n      //return st;\n    };\n\n    _this.addProduct = function (_) {\n      var product = _this.state.product; // console.log(product.name);\n\n      var url = 'http://localhost:4000/products/find?email=amypi@eircom.net';\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (response) {\n        j = response.data[0].password;\n      }).then(_this.getProducts).catch(function (err) {\n        return console.error(err);\n      });\n      console.log(j);\n    };\n\n    _this.renderProduct = function (_ref) {\n      var email = _ref.email,\n          password = _ref.password,\n          phone_number = _ref.phone_number;\n      return React.createElement(\"div\", {\n        key: email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, password, \",\", phone_number, \" \");\n    };\n\n    return _this;\n  }\n\n  _createClass(db, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getProducts();\n    }\n  }, {\n    key: \"findStart\",\n    value: function findStart(str) {\n      var number = 0;\n\n      for (var i = 0; i < str.length; i++) {\n        if (str[i] === 'e' && str[++i] === \"m\" && str[++i] === \"a\" && str[++i] === \"i\" && str[++i] === \"l\" && str[++i] === '\"') {\n          number = i + 3;\n        }\n      }\n\n      st = \"\";\n      return number;\n    }\n  }, {\n    key: \"onClick\",\n    //onClick() {\n    //    fetch('http://localhost:4000/products')\n    //        .then(res => res.json())\n    //        .then((response) => { console.log(response); })\n    //}\n    value: function onClick() {\n      var product = this.state.product;\n      console.log(product.email);\n      var url = 'http://localhost:4000/products/find?name=' + product.email;\n      fetch(url).then(function (res) {\n        return res.json();\n      }).then(function (response) {\n        console.log(\"yeet\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          products = _this$state.products,\n          product = _this$state.product;\n      console.log(\"wow\" + j);\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, products.map(this.renderProduct), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: product.price,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            product: _objectSpread({}, product, {\n              price: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: product.name,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            product: _objectSpread({}, product, {\n              name: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.addProduct(product.email),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Add product\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, j)));\n    }\n  }]);\n\n  return db;\n}(React.Component);\n\nexport default db;","map":{"version":3,"sources":["/Users/jackengels1/Desktop/Workspace/eBusiness/Ebusiness-Project/online-shop/src/Components/mylogin/db.js"],"names":["React","Component","x","st","j","db","state","products","product","email","password","phone_number","getProducts","_","fetch","then","response","json","setState","data","catch","err","console","error","addProduct","url","res","log","renderProduct","str","number","i","length","map","price","e","target","value","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './mylogin.css';\r\nlet x;\r\nvar st = \"\";\r\nlet j=\"whopper\";\r\n\r\nclass db extends React.Component {\r\n    state = {\r\n        products: [],\r\n        product: {\r\n            email: \"\",\r\n            password: '',\r\n            phone_number: ''\r\n\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getProducts();\r\n    }\r\n\r\n    findStart(str) {\r\n        let number = 0;\r\n        for (let i = 0; i < str.length; i++) {\r\n            if (str[i] === 'e'\r\n                && str[++i] === \"m\"\r\n                && str[++i] === \"a\"\r\n                && str[++i] === \"i\"\r\n                && str[++i] === \"l\"\r\n                && str[++i] === '\"'\r\n            ) {\r\n                number = i + 3;\r\n            }\r\n        }\r\n        st = \"\";\r\n        return number;\r\n    }\r\n    getProducts = _ => {\r\n        fetch('http://localhost:4000/products')\r\n            .then(response => response.json())\r\n            .then(response => this.setState({ products: response.data }))\r\n            .catch(err => console.error(err))\r\n        //    .then(({ data }) => {\r\n        //        for (let i = this.findStart(JSON.stringify(data)); JSON.stringify(data)[i] !== '\"'; i++) {\r\n\r\n        //            st += (JSON.stringify(data)[i]);\r\n        //        }\r\n        //        console.log(\"st:\" + st);\r\n        //    })\r\n\r\n        //    .catch(err => console.error(err))\r\n        //return st;\r\n\r\n    }\r\n\r\n    addProduct = _ => {\r\n        const { product } = this.state;\r\n        // console.log(product.name);\r\n        const url = 'http://localhost:4000/products/find?email=amypi@eircom.net';\r\n        fetch(url)\r\n            .then(res => res.json())\r\n            .then((response) => { j = (response.data[0].password) })\r\n\r\n            .then(this.getProducts)\r\n            .catch(err => console.error(err))\r\n        console.log(j);\r\n    }\r\n    //onClick() {\r\n    //    fetch('http://localhost:4000/products')\r\n    //        .then(res => res.json())\r\n    //        .then((response) => { console.log(response); })\r\n    //}\r\n\r\n    onClick() {\r\n        const { product } = this.state;\r\n        console.log(product.email);\r\n        const url = 'http://localhost:4000/products/find?name=' + product.email;\r\n        fetch(url)\r\n            .then(res => res.json())\r\n            .then((response) => { console.log(\"yeet\"); })\r\n    }\r\n    renderProduct = ({ email, password, phone_number }) => <div key={email}  >{password},{phone_number} </div>\r\n\r\n    render() {\r\n        const { products, product } = this.state;\r\n        console.log(\"wow\" + j);\r\n\r\n        return (\r\n            <div className=\"App\">\r\n\r\n\r\n\r\n                {products.map(this.renderProduct)}\r\n                <div><input value={product.price}\r\n                    onChange={e => this.setState({ product: { ...product, price: e.target.value } })} />\r\n                    <input value={product.name}\r\n                        onChange={e => this.setState({ product: { ...product, name: e.target.value } })} />\r\n\r\n\r\n                    <button onClick={this.addProduct(product.email)}>Add product</button>\r\n                    <div>\r\n                        {j}\r\n                        </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n} export default db;"]},"metadata":{},"sourceType":"module"}